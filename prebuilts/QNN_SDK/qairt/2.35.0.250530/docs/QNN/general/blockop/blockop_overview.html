

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Block Op Overview &mdash; Qualcomm® AI Engine Direct</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_css.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Block Ops - Usage" href="blockop_usage.html" />
    <link rel="prev" title="QNN Operation Definitions" href="../../OpDef/MasterOpDef.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Qualcomm® AI Engine Direct
          

          
          </a>

          
            
            
              <div class="version">
                v2.35.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backend.html">Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../op_packages.html">Op Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../converters.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quantization.html">Quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarking.html">Benchmarking</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../operations.html">Operations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../OpDef/SupportedOps.html">Supported Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../OpDef/opdef_version_history.html">Op Definition Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../OpDef/opdef_version_history.html#backend-specific-revision-history">Backend Specific Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations.html#operation-definitions">Operation definitions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../operations.html#block-operators">Block operators</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Block Op Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="blockop_usage.html">Block Op Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="blockop_definitions.html">Block Op Definitions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operations.html#backend-supplements">Backend supplements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tflite_delegate.html">QNN TFLite Delegate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../revision_history.html">Revision History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Qualcomm® AI Engine Direct</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../operations.html">Operations</a> &raquo;</li>
        
      <li>Block Op Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="block-op-overview">
<h1>Block Op Overview<a class="headerlink" href="#block-op-overview" title="Permalink to this heading">¶</a></h1>
<p>Machine Learning (ML) compute is typically expressed using operators in frameworks
such as PyTorch or ONNX. The following limitations arise when expressing the
computational graph and compiling it for a QAIRT backend/device.</p>
<ul class="simple">
<li><p>Compute is expressed using different subgraphs, making it challenging for ML compilers
to pattern-match the subgraphs to an efficient kernel for a QAIRT backend.</p></li>
<li><p>The operators present in the framework are not sufficient to express the computation
efficiently or adequately, leading to an inflated graph or an inability to capture the
desired compute at the framework level.</p></li>
<li><p>Naively quantizing transformed or lowered operators can result in a loss of precision.</p></li>
</ul>
<p>To assist tools in mapping commonly occurring computational graphs to QAIRT backends,
the computational graph is packaged as a block op in the source framework as a
Python module. These can then be detected by framework specific
QAIRT converters so they can be appropriately mapped to the QAIRT backends.</p>
<ul class="simple">
<li><p>Block ops are available as Python modules that can be imported into the source
framework to compose models.</p></li>
<li><p>Direct replacement in the model, no retraining required.</p></li>
</ul>
<p>Block ops are similar to <a class="reference external" href="https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md">ONNX contrib ops</a>.</p>
<p><strong>Benefits</strong></p>
<ul class="simple">
<li><p><em>Performance:</em> Compilers resort to pattern matching to fuse multiple operators into a
single operator to improve performance, but it is hard to make pattern matching robust. Model writers
can capture a subgraph of operators into a block op to achieve more rubust performance
improvements.</p></li>
<li><p><em>Functionalities:</em> Many interesting and unique functionalities, like dynamic behavior and
statefulness, are currently missing in the frameworks. Block ops allow us to define and expose
unique operators to frameworks for use by model writers in their models.</p></li>
<li><p><em>Accuracy:</em> Quantization of heavily lowered graphs can cause a loss of precision. Block ops
allow us to retain operator boundaries in the framework and allow us to quantize before the
operator is lowered. This can help avoid loss of precision in some models.</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="blockop_usage.html" class="btn btn-neutral float-right" title="Block Ops - Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../OpDef/MasterOpDef.html" class="btn btn-neutral float-left" title="QNN Operation Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2025, Qualcomm Technologies, Inc..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>